!function(i){var t={stuckClass:"isStuck"},o=i(document);i.fn.TMStickUp=function(e){e=i.extend(!0,{},t,e),i(this).each(function(){var t,n,s,c,a=i(this),r=!1,l=a.clone().appendTo(a.parent()).addClass(e.stuckClass),p=l.outerHeight();i(window).resize(function(){clearTimeout(c),l.css({top:r?0:-p,visibility:r?"visible":"hidden"}),c=setTimeout(function(){t=a.offset().top,n=a.outerHeight(),p=l.outerHeight(),s=i.cookie&&"opened"===i.cookie("panel1"),l.css({top:r?0:-p})},40)}).resize(),l.css({position:"fixed",width:"100%"}),a.on("rePosition",function(i,t){r&&l.animate({marginTop:t},{easing:"linear"}),s=0!==t}),o.on("scroll",function(){var i=o.scrollTop();i>=t&&!r&&(l.stop().css({visibility:"visible"}).animate({top:0,marginTop:s?50:0},{}),r=!0),i<t+n&&r&&(l.stop().animate({top:-p,marginTop:0},{duration:200,complete:function(){l.css({visibility:"hidden"})}}),r=!1)}).trigger("scroll")})}}(jQuery);